<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
        <title>Blog - Will Fuqua</title>
        <link media="all" href="/blog/style/pygments-nuvola.css" rel="stylesheet" />
        <link media="all" href="/blog/style/main.css" rel="stylesheet" />
        <link href="/favicon.ico" rel="shortcut icon" />
        <link href="/sitemap.xml" type="application/xml" rel="sitemap" title="Sitemap">
        <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Reenie+Beanie&amp;text=WilFqua" />
        <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Droid+Sans" />
        <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Inconsolata" />
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/3.2.1/css/font-awesome.min.css" />
        <link href="/blog/atom/" type="application/atom+xml" rel="alternate" title="Atom Feed" />
        <link href="/blog/rss/" type="application/rss+xml" rel="alternate" title="RSS Feed" />
        <script>
            var _gaq = _gaq || [];
            _gaq.push(['_setAccount', 'UA-38553935-1']);
            _gaq.push(['_trackPageview']);
            (function() {
                var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
            })();
        </script>
    </head>
    <body>
        <header>
            <a href="/blog/" rel="contents home start" class="blogtitle"><span class="first-name">Will</span><span class="last-name">Fuqua</span></a>
        </header>
        
            <nav>
    <ul>
        <li><a class="top" href="#" title="Top of page"><i class="icon-chevron-up"></i></a><span class="label">Top&nbsp;of&nbsp;page</span></li>
        <li><a class="root" href="https://fuqua.io/blog" title="Home"><i class="icon-home"></i></a><span class="label">Home</span></li>
        <li><a class="bottom" href="#comments" title="Comments"><i class="icon-chevron-down"></i></a><span class="label">Comments</span></li>
    </ul>
</nav>
<article>
    <h1>Enabling Command Line Completions with dotnet-suggest</h1>
    <p>I recently removed the hand-written command line parser from <a class="reference external" href="https://github.com/waf/CSharpRepl">C# <span class="caps">REPL</span></a> and replaced it with the more standard System.CommandLine NuGet package. As part of this, it gained dotnet-suggest support. I couldn&#8217;t find much online discussion about dotnet-suggest, so I&#8217;m jotting down some notes&nbsp;here.</p>
<p>There are two parts to&nbsp;dotnet-suggest:</p>
<ul class="simple">
<li>As an end-user, we configure our shell to enable dotnet-suggest shell&nbsp;completions.</li>
<li>As a developer, we use System.CommandLine to provide rich completions to our end&nbsp;users.</li>
</ul>
<p>We&#8217;ll be covering both parts in this blog post, as well as how it all works under the hood. At the end, we&#8217;ll look at an interesting way all this functionality is <span>&#8230;<a href="/blog/2021/09/enabling-command-line-completions-with-dotnet-suggest/" class="continue">continue</a>.</span></p>
    <div class="tags">
        
            tagged as
                <a href="/blog/tag/csharp/" rel="tag">csharp</a>,
                <a href="/blog/tag/dotnet/" rel="tag">dotnet</a>,
                <a href="/blog/tag/cli/" rel="tag">cli</a>
                    and
                    
                <a href="/blog/tag/csharprepl/" rel="tag">csharprepl</a>
                
        
    </div>
    
</article>
        
            <nav>
    <ul>
        <li><a class="top" href="#" title="Top of page"><i class="icon-chevron-up"></i></a><span class="label">Top&nbsp;of&nbsp;page</span></li>
        <li><a class="root" href="https://fuqua.io/blog" title="Home"><i class="icon-home"></i></a><span class="label">Home</span></li>
        <li><a class="bottom" href="#comments" title="Comments"><i class="icon-chevron-down"></i></a><span class="label">Comments</span></li>
    </ul>
</nav>
<article>
    <h1>Analyzing Code Quality with LINQ and NDepend</h1>
    <p>I&#8217;ve been building an open-source personal project (<a class="reference external" href="https://github.com/waf/CSharpRepl">C# <span class="caps">REPL</span></a>) and spending a good chunk of time on code quality. I self-impose a zero-warning policy, use nullable reference types, track unit test coverage,&nbsp;etc.</p>
<p>After ensuring all the Visual Studio / Roslyn code analyzer warnings were fixed, I thought I&#8217;d try out NDepend to get a second opinion, and also understand its capabilities. After downloading <a class="reference external" href="https://www.ndepend.com/download">a free trial of NDepend</a> and spending some time with it, I was pretty impressed with its technical underpinnings as they&#8217;re exposed to the end user. Spoilers: <em>It&#8217;s <span class="caps">LINQ</span> all the way down</em>.</p>
<div class="section" id="static-analysis-with-linq">
<h2>Static Analysis with&nbsp;<span class="caps">LINQ</span></h2>
<p>Out of the box, <span>&#8230;<a href="/blog/2021/08/analyzing-code-quality-with-linq-and-ndepend/" class="continue">continue</a>.</span></p></div>
    <div class="tags">
        
            tagged as
                <a href="/blog/tag/csharp/" rel="tag">csharp</a>,
                <a href="/blog/tag/analysis/" rel="tag">analysis</a>,
                <a href="/blog/tag/linq/" rel="tag">linq</a>
                    and
                    
                <a href="/blog/tag/ndepend/" rel="tag">ndepend</a>
                
        
    </div>
    
</article>
        
            <nav>
    <ul>
        <li><a class="top" href="#" title="Top of page"><i class="icon-chevron-up"></i></a><span class="label">Top&nbsp;of&nbsp;page</span></li>
        <li><a class="root" href="https://fuqua.io/blog" title="Home"><i class="icon-home"></i></a><span class="label">Home</span></li>
        <li><a class="bottom" href="#comments" title="Comments"><i class="icon-chevron-down"></i></a><span class="label">Comments</span></li>
    </ul>
</nav>
<article>
    <h1>A Lesser-Known C# Feature: Nested Object Initializers</h1>
    <p>I've been writing C# for quite some time now, but only recently found out about the &quot;nested object initializers&quot; syntax in C#. Nested object initializers elegantly solve problems for which I've previously used workarounds. It's not a new feature; it was introduced in C# 3.0, under section 7.5.10.2 of the language specification:</p>
<blockquote>
An object initializer after the equals sign is a nested object initializer, i.e. an initialization of an embedded object. Instead of assigning a new value to the field or property, the assignments in the nested object initializer are treated as assignments to members of the field or property.</blockquote>
<p>In case <span>&#8230;<a href="/blog/2020/12/a-lesser-known-csharp-feature-nested-object-initializers/" class="continue">continue</a>.</span></p>
    <div class="tags">
        
            tagged as
                <a href="/blog/tag/csharp/" rel="tag">csharp</a>
                    and
                    
                <a href="/blog/tag/language/" rel="tag">language</a>
                
        
    </div>
    
</article>
        
            <nav>
    <ul>
        <li><a class="top" href="#" title="Top of page"><i class="icon-chevron-up"></i></a><span class="label">Top&nbsp;of&nbsp;page</span></li>
        <li><a class="root" href="https://fuqua.io/blog" title="Home"><i class="icon-home"></i></a><span class="label">Home</span></li>
        <li><a class="bottom" href="#comments" title="Comments"><i class="icon-chevron-down"></i></a><span class="label">Comments</span></li>
    </ul>
</nav>
<article>
    <h1>Microsoft Build 2020 â€“ Highlights for .NET Developers</h1>
    <p>Over the course of the last three days, Microsoft Build 2020 released a flood of news and announcements.
For those of us who follow the .NET ecosystem, it can be difficult to wade through them all!</p>
<p>I've collected a list of announcements that I think are interesting as a .NET developer, and added short
summaries. The announcements are grouped into four categories: ASP.NET, .NET, Visual Studio and Windows.</p>
<p>In addition, each category is split into &quot;released&quot; (you can use it now!) or &quot;preview / announced&quot;
(you can test it out now, or soon).</p>
<div class="section" id="asp-net">
<h1>ASP.NET</h1>
<div class="section" id="released">
<h2>Released</h2>
<ul class="simple">
<li><a class="reference external" href="https://devblogs.microsoft.com/aspnet/blazor-webassembly-3-2-0-now-available/">Blazor WebAssembly is released!</a> - v3.2.0 is an official release -- it's not <span>&#8230;<a href="/blog/2020/05/microsoft-build-2020-highlights-for-net-developers/" class="continue">continue</a>.</span></li></ul></div></div>
    <div class="tags">
        
            tagged as
                <a href="/blog/tag/dotnet/" rel="tag">dotnet</a>,
                <a href="/blog/tag/csharp/" rel="tag">csharp</a>
                    and
                    
                <a href="/blog/tag/presentation/" rel="tag">presentation</a>
                
        
    </div>
    
</article>
        
            <nav>
    <ul>
        <li><a class="top" href="#" title="Top of page"><i class="icon-chevron-up"></i></a><span class="label">Top&nbsp;of&nbsp;page</span></li>
        <li><a class="root" href="https://fuqua.io/blog" title="Home"><i class="icon-home"></i></a><span class="label">Home</span></li>
        <li><a class="bottom" href="#comments" title="Comments"><i class="icon-chevron-down"></i></a><span class="label">Comments</span></li>
    </ul>
</nav>
<article>
    <h1>Native Websockets with Blazor WebAssembly</h1>
    <p>A couple of days ago, Blazor WebAssembly 3.2.0 Preview 1 was released (<a class="reference external" href="https://devblogs.microsoft.com/aspnet/blazor-webassembly-3-2-0-preview-1-release-now-available/">announcement</a>). I'm personally excited about this release
because it's the first Blazor release that contains native support for client-side websockets!</p>
<p>Previously, if you wanted to use websockets, you either had to write your own wrapper, or use a larger library like
SignalR that did the wrapping for you. However, if you just wanted to use the normal <tt class="docutils literal">System.Net.WebSockets.ClientWebSocket</tt> class that's built into .NET, you could not.</p>
<p>The Mono/WASM project has actually supported <tt class="docutils literal">ClientWebSocket</tt> for about a year (<a class="reference external" href="https://github.com/mono/mono/pull/12615">PR 12615</a>). However, some recent changes in Blazor allowed the Blazor project to be able <span>&#8230;<a href="/blog/2020/02/native-websockets-with-blazor-webassembly/" class="continue">continue</a>.</span></p>
    <div class="tags">
        
            tagged as
                <a href="/blog/tag/dotnet/" rel="tag">dotnet</a>,
                <a href="/blog/tag/web/" rel="tag">web</a>,
                <a href="/blog/tag/blazor/" rel="tag">blazor</a>,
                <a href="/blog/tag/wasm/" rel="tag">wasm</a>,
                <a href="/blog/tag/csharp/" rel="tag">csharp</a>
                    and
                    
                <a href="/blog/tag/websockets/" rel="tag">websockets</a>
                
        
    </div>
    
</article>
        
            <nav>
    <ul>
        <li><a class="top" href="#" title="Top of page"><i class="icon-chevron-up"></i></a><span class="label">Top&nbsp;of&nbsp;page</span></li>
        <li><a class="root" href="https://fuqua.io/blog" title="Home"><i class="icon-home"></i></a><span class="label">Home</span></li>
        <li><a class="bottom" href="#comments" title="Comments"><i class="icon-chevron-down"></i></a><span class="label">Comments</span></li>
    </ul>
</nav>
<article>
    <h1>.NET Conf Thailand 2019</h1>
    <p>.NET Conf Thailand 2019 was a huge success, thanks again to <a class="reference external" href="https://twitter.com/kidchenko">Jose Barbosa</a> and <a class="reference external" href="https://www.facebook.com/codesanookpage">Theeranit (Aaron) Pongtongmuang</a>.</p>
<p>I was invited to speak, and I covered the new features in C# 8.0. There are a ton!</p>
<ol class="arabic simple">
<li>Nullable Reference Types</li>
<li>Async Enumerables</li>
<li>Recursive Patterns</li>
<li>Indices and Ranges</li>
<li>Default Interface Members</li>
<li>Static Local Functions</li>
<li>Null Coallescing Assignment</li>
<li>Readonly Members</li>
<li>Using Statements</li>
</ol>
<p>I have my presentation slides and code available <a class="reference external" href="https://github.com/waf/DotNetConfThailand.2019.CSharp8">on GitHub</a>.</p>
<p>You can see my talk on <a class="reference external" href="https://www.facebook.com/dotnetconf/videos/487578191836482/">the dotnetconf page</a>, however the audio volume is too soft to hear. Oh well! You can get
similar content by watching Mads Torgersen's talk (<a class="reference external" href="https://channel9.msdn.com/Events/dotnetConf/NET-Conf-2019/Whats-new-in-C-8-Part-1">Part 1</a>) and Bill Wagner's talk (<a class="reference external" href="https://channel9.msdn.com/Events/dotnetConf/NET-Conf-2019/B103">Part 2</a>).</p>

    <div class="tags">
        
            tagged as
                <a href="/blog/tag/dotnet/" rel="tag">dotnet</a>,
                <a href="/blog/tag/csharp/" rel="tag">csharp</a>
                    and
                    
                <a href="/blog/tag/presentation/" rel="tag">presentation</a>
                
        
    </div>
    
</article>
        
            <nav>
    <ul>
        <li><a class="top" href="#" title="Top of page"><i class="icon-chevron-up"></i></a><span class="label">Top&nbsp;of&nbsp;page</span></li>
        <li><a class="root" href="https://fuqua.io/blog" title="Home"><i class="icon-home"></i></a><span class="label">Home</span></li>
        <li><a class="bottom" href="#comments" title="Comments"><i class="icon-chevron-down"></i></a><span class="label">Comments</span></li>
    </ul>
</nav>
<article>
    <h1>Troubleshooting Assembly Binding Issues in .NET</h1>
    <p>If you've developed .NET for any length of time, chances are you've run into a gnarly error like this:</p>
<p><em>System.IO.FileLoadException: Could not load file or assembly 'AcmeCorp.Foobar.Utilities, Version=1.2.0, Culture=neutral, PublicKeyToken=367d582291c765f7' or one of its dependencies.
The located assembly's manifest definition does not match the assembly reference.</em></p>
<p>It's a pretty puzzling error. It means that it <strong>found</strong> version 1.2.0 of a DLL, but did not use it because a different version was requested (e.g. 1.3.0).</p>
<p>There are a couple of gotchas when troubleshooting these types of errors.</p>
<div class="section" id="ensure-you-don-t-have-any-version-mismatches">
<h1>Ensure you don't have any version mismatches</h1>
<p>As a first step, ensure that all projects in your solution reference the <span>&#8230;<a href="/blog/2019/03/troubleshooting-assembly-binding-issues-in-net/" class="continue">continue</a>.</span></p></div>
    <div class="tags">
        
            tagged as
                <a href="/blog/tag/dotnet/" rel="tag">dotnet</a>
                    and
                    
                <a href="/blog/tag/csharp/" rel="tag">csharp</a>
                
        
    </div>
    
</article>
        
            <nav>
    <ul>
        <li><a class="top" href="#" title="Top of page"><i class="icon-chevron-up"></i></a><span class="label">Top&nbsp;of&nbsp;page</span></li>
        <li><a class="root" href="https://fuqua.io/blog" title="Home"><i class="icon-home"></i></a><span class="label">Home</span></li>
        <li><a class="bottom" href="#comments" title="Comments"><i class="icon-chevron-down"></i></a><span class="label">Comments</span></li>
    </ul>
</nav>
<article>
    <h1>.NET Conf Thailand 2018</h1>
    <p>I recently spoke at .NET Conf Thailand 2018! Thanks to <a class="reference external" href="https://twitter.com/kidchenko">Jose Barbosa</a> and <a class="reference external" href="https://www.facebook.com/codesanookpage">Theeranit (Aaron) Pongtongmuang</a> for organizing!</p>
<p>I covered what's new in C# 7.0 to 7.3 (performance, performance, performance!), and a sneak preview of what's upcoming in C#8 (non-nullable reference types).</p>
<p>Demo code is available <a class="reference external" href="https://github.com/waf/DotNetConfThailand.2018.CSharpDemo">on GitHub</a> and, while recordings are not available, you can see Mads Torgersen cover similar topics <a class="reference external" href="https://channel9.msdn.com/Events/dotnetConf/2018/S103">on Channel9</a>.</p>

    <div class="tags">
        
            tagged as
                <a href="/blog/tag/dotnet/" rel="tag">dotnet</a>,
                <a href="/blog/tag/csharp/" rel="tag">csharp</a>
                    and
                    
                <a href="/blog/tag/presentation/" rel="tag">presentation</a>
                
        
    </div>
    
</article>
        
            <nav>
    <ul>
        <li><a class="top" href="#" title="Top of page"><i class="icon-chevron-up"></i></a><span class="label">Top&nbsp;of&nbsp;page</span></li>
        <li><a class="root" href="https://fuqua.io/blog" title="Home"><i class="icon-home"></i></a><span class="label">Home</span></li>
        <li><a class="bottom" href="#comments" title="Comments"><i class="icon-chevron-down"></i></a><span class="label">Comments</span></li>
    </ul>
</nav>
<article>
    <h1>Cross Platform CI with CoreRT and AppVeyor</h1>
    <p>CoreRT is an ahead-of-time (AOT) compiler and runtime for .NET Core. It builds .NET Core applications into a single, small binary that runs without requiring .NET Core to be installed on the system. This makes distribution easy, especially to Mac OS and Linux, which may not have .NET Core installed. On all platforms, the program will have a faster start-up time and lower memory footprint.</p>
<p>Like most developers, I have a pet static site generator I'm working on. As it's a command line utility that will be distributed to users that most likely won't have .NET Core installed, I decided to <span>&#8230;<a href="/blog/2018/10/cross-platform-ci-with-corert-and-appveyor/" class="continue">continue</a>.</span></p>
    <div class="tags">
        
            tagged as
                <a href="/blog/tag/csharp/" rel="tag">csharp</a>,
                <a href="/blog/tag/corert/" rel="tag">corert</a>,
                <a href="/blog/tag/appveyor/" rel="tag">appveyor</a>
                    and
                    
                <a href="/blog/tag/continuous-integration/" rel="tag">continuous-integration</a>
                
        
    </div>
    
</article>
        
            <nav>
    <ul>
        <li><a class="top" href="#" title="Top of page"><i class="icon-chevron-up"></i></a><span class="label">Top&nbsp;of&nbsp;page</span></li>
        <li><a class="root" href="https://fuqua.io/blog" title="Home"><i class="icon-home"></i></a><span class="label">Home</span></li>
        <li><a class="bottom" href="#comments" title="Comments"><i class="icon-chevron-down"></i></a><span class="label">Comments</span></li>
    </ul>
</nav>
<article>
    <h1>Rendering an ASP.NET Core MVC action to a string</h1>
    <p>I'm currently going through my &quot;build a static site engine&quot; phase that most developers pass
through at some point in their career. As part of this, I wanted to write a normal ASP.NET
Core application complete with server-side rendering, and then have the option to entirely
pre-render it to disk.</p>
<p>It turns out that this is quite difficult -- StackOverflow and GitHub issues were a barren
wasteland of half-working answers. Most everyone assumes that you have a ControllerContext,
or at least an HttpContext! Rendering it from a command line application was unheard of!</p>
<p>After much experimentation, I managed to get it working! You can see a complete <span>&#8230;<a href="/blog/2018/07/rendering-an-asp-net-core-mvc-action-to-a-string/" class="continue">continue</a>.</span></p>
    <div class="tags">
        
            tagged as
                <a href="/blog/tag/asp-net/" rel="tag">asp.net</a>,
                <a href="/blog/tag/dotnet/" rel="tag">dotnet</a>,
                <a href="/blog/tag/razor/" rel="tag">razor</a>
                    and
                    
                <a href="/blog/tag/csharp/" rel="tag">csharp</a>
                
        
    </div>
    
</article>
        
        <div class="pager">
        
            <a href="/blog/tag/csharp/2/" class="prev">
            Previous &#x21DD;
            </a>
        
        
        </div>
<script src="/blog/script/list.min.js"></script>
    </body>
</html>